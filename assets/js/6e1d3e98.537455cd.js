"use strict";(self.webpackChunk_griffel_website=self.webpackChunk_griffel_website||[]).push([[615],{7179:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(2784),l=n(6277);const r="tabItem_OMyP";function o(e){var t=e.children,n=e.hidden,o=e.className;return a.createElement("div",{role:"tabpanel",className:(0,l.Z)(r,o),hidden:n},t)}},2660:(e,t,n)=>{n.d(t,{Z:()=>m});var a=n(7896),l=n(2784),r=n(6277),o=n(6930),i=n(7054),s=n(8773),u=n(6152);const c="tabList_M0Dn",p="tabItem_ysIP";function d(e){var t,n,o=e.lazy,d=e.block,m=e.defaultValue,f=e.values,b=e.groupId,h=e.className,k=l.Children.map(e.children,(function(e){if((0,l.isValidElement)(e)&&"value"in e.props)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),v=null!=f?f:k.map((function(e){var t=e.props;return{value:t.value,label:t.label,attributes:t.attributes}})),g=(0,i.l)(v,(function(e,t){return e.value===t.value}));if(g.length>0)throw new Error('Docusaurus error: Duplicate values "'+g.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var w=null===m?m:null!=(t=null!=m?m:null==(n=k.find((function(e){return e.props.default})))?void 0:n.props.value)?t:k[0].props.value;if(null!==w&&!v.some((function(e){return e.value===w})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+w+'" but none of its children has the corresponding value. Available values are: '+v.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var y=(0,s.U)(),x=y.tabGroupChoices,N=y.setTabGroupChoices,j=(0,l.useState)(w),T=j[0],I=j[1],_=[],E=(0,u.o5)().blockElementScrollPositionUntilNextRender;if(null!=b){var Z=x[b];null!=Z&&Z!==T&&v.some((function(e){return e.value===Z}))&&I(Z)}var C=function(e){var t=e.currentTarget,n=_.indexOf(t),a=v[n].value;a!==T&&(E(t),I(a),null!=b&&N(b,String(a)))},W=function(e){var t,n=null;switch(e.key){case"ArrowRight":var a,l=_.indexOf(e.currentTarget)+1;n=null!=(a=_[l])?a:_[0];break;case"ArrowLeft":var r,o=_.indexOf(e.currentTarget)-1;n=null!=(r=_[o])?r:_[_.length-1]}null==(t=n)||t.focus()};return l.createElement("div",{className:(0,r.Z)("tabs-container",c)},l.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":d},h)},v.map((function(e){var t=e.value,n=e.label,o=e.attributes;return l.createElement("li",(0,a.Z)({role:"tab",tabIndex:T===t?0:-1,"aria-selected":T===t,key:t,ref:function(e){return _.push(e)},onKeyDown:W,onFocus:C,onClick:C},o,{className:(0,r.Z)("tabs__item",p,null==o?void 0:o.className,{"tabs__item--active":T===t})}),null!=n?n:t)}))),o?(0,l.cloneElement)(k.filter((function(e){return e.props.value===T}))[0],{className:"margin-top--md"}):l.createElement("div",{className:"margin-top--md"},k.map((function(e,t){return(0,l.cloneElement)(e,{key:t,hidden:e.props.value!==T})}))))}function m(e){var t=(0,o.Z)();return l.createElement(d,(0,a.Z)({key:String(t)},e))}},5126:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>c,default:()=>b,frontMatter:()=>u,metadata:()=>p,toc:()=>m});var a=n(7896),l=n(1461),r=(n(2784),n(876)),o=(n(465),n(2660)),i=n(7179),s=["components"],u={sidebar_position:2},c="With Webpack",p={unversionedId:"react/ahead-of-time-compilation/with-webpack",id:"react/ahead-of-time-compilation/with-webpack",title:"With Webpack",description:"Install",source:"@site/docs/react/ahead-of-time-compilation/with-webpack.md",sourceDirName:"react/ahead-of-time-compilation",slug:"/react/ahead-of-time-compilation/with-webpack",permalink:"/react/ahead-of-time-compilation/with-webpack",draft:!1,editUrl:"https://github.com/microsoft/griffel/tree/main/apps/website/docs/react/ahead-of-time-compilation/with-webpack.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"reactSidebar",previous:{title:"Introduction",permalink:"/react/ahead-of-time-compilation/introduction"},next:{title:"With Babel",permalink:"/react/ahead-of-time-compilation/with-babel"}},d={},m=[{value:"Install",id:"install",level:2},{value:"Usage",id:"usage",level:2},{value:"Usage with Next.js",id:"usage-with-nextjs",level:2},{value:"Configuration",id:"configuration",level:2}],f={toc:m};function b(e){var t=e.components,n=(0,l.Z)(e,s);return(0,r.kt)("wrapper",(0,a.Z)({},f,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"with-webpack"},"With Webpack"),(0,r.kt)("h2",{id:"install"},"Install"),(0,r.kt)(o.Z,{mdxType:"Tabs"},(0,r.kt)(i.Z,{value:"yarn",label:"Yarn",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"yarn add --dev @griffel/webpack-loader\n"))),(0,r.kt)(i.Z,{value:"npm",label:"NPM",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"npm install --save-dev @griffel/webpack-loader\n")))),(0,r.kt)("h2",{id:"usage"},"Usage"),(0,r.kt)("p",null,"Webpack documentation: ",(0,r.kt)("a",{parentName:"p",href:"https://webpack.js.org/loaders/"},"Loaders")),(0,r.kt)("p",null,"Within your webpack configuration object, you'll need to add the ",(0,r.kt)("inlineCode",{parentName:"p"},"@griffel/webpack-loader")," to the list of modules, like so:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.(js|jsx)$/,\n        exclude: /node_modules/,\n        use: {\n          loader: '@griffel/webpack-loader',\n        },\n      },\n\n      // If your project uses TypeScript\n      {\n        test: /\\.(ts|tsx)$/,\n        exclude: /node_modules/,\n        use: {\n          loader: '@griffel/webpack-loader',\n          options: {\n            babelOptions: {\n              presets: ['@babel/preset-typescript'],\n            },\n          },\n        },\n      },\n    ],\n  },\n};\n")),(0,r.kt)("p",null,"While the loader itself has a short circuit to avoid processing (invoking Babel transforms) it's better to reduce the scope of processed files. For example, you can enforce a restriction to have ",(0,r.kt)("inlineCode",{parentName:"p"},"makeStyles()")," calls only in ",(0,r.kt)("inlineCode",{parentName:"p"},".styles.ts")," files:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.styles.ts$/,\n        exclude: /node_modules/,\n        use: {\n          loader: '@griffel/webpack-loader',\n          options: {\n            babelOptions: {\n              presets: ['@babel/preset-typescript'],\n            },\n          },\n        },\n      },\n    ],\n  },\n};\n")),(0,r.kt)("h2",{id:"usage-with-nextjs"},"Usage with Next.js"),(0,r.kt)("p",null,"Next.js lets users ",(0,r.kt)("a",{parentName:"p",href:"https://nextjs.org/docs/api-reference/next.config.js/custom-webpack-config"},"tweak Webpack's config")," so the same options are applicable to its config."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"// next.config.js\n\nmodule.exports = {\n  webpack: (config, { buildId, dev, isServer, defaultLoaders, nextRuntime, webpack }) => {\n    config.module.rules.unshift({\n      test: /\\.(js|jsx)$/,\n      exclude: /node_modules/,\n      use: [\n        {\n          loader: '@griffel/webpack-loader',\n        },\n      ],\n    });\n\n    // If your project uses TypeScript\n    config.module.rules.unshift({\n      test: /\\.(ts|tsx)$/,\n      exclude: /node_modules/,\n      use: [\n        {\n          loader: '@griffel/webpack-loader',\n          options: {\n            babelOptions: {\n              presets: ['next/babel'],\n            },\n          },\n        },\n      ],\n    });\n\n    return config;\n  },\n};\n")),(0,r.kt)("h2",{id:"configuration"},"Configuration"),(0,r.kt)("p",null,"Please check ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/microsoft/griffel/tree/main/packages/webpack-loader"},"the README")," of ",(0,r.kt)("inlineCode",{parentName:"p"},"@griffel/webpack-loader")," to check how to configure module evaluation and imports."))}b.isMDXComponent=!0}}]);