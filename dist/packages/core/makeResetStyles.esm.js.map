{"version":3,"file":"makeResetStyles.esm.js","sources":["../../../packages/core/src/makeResetStyles.ts"],"sourcesContent":["import { resolveResetStyleRules } from './runtime/resolveResetStyleRules';\nimport type { GriffelResetStyle, MakeStylesOptions } from './types';\n\n/**\n * @internal\n */\nexport function makeResetStyles(styles: GriffelResetStyle) {\n  const insertionCache: Record<string, boolean> = {};\n\n  let ltrClassName: string | null = null;\n  let rtlClassName: string | null = null;\n\n  let cssRules: string[] | null = null;\n\n  function computeClassName(options: MakeStylesOptions): string {\n    const { dir, renderer } = options;\n\n    if (ltrClassName === null) {\n      [ltrClassName, rtlClassName, cssRules] = resolveResetStyleRules(styles);\n    }\n\n    const isLTR = dir === 'ltr';\n    // As RTL classes are different they should have a different cache key for insertion\n    const rendererId = isLTR ? renderer.id : renderer.id + 'r';\n\n    if (insertionCache[rendererId] === undefined) {\n      renderer.insertCSSRules({ r: cssRules! });\n      insertionCache[rendererId] = true;\n    }\n\n    return isLTR ? ltrClassName : rtlClassName || ltrClassName;\n  }\n\n  return computeClassName;\n}\n"],"names":["makeResetStyles","styles","insertionCache","ltrClassName","rtlClassName","cssRules","computeClassName","options","dir","renderer","resolveResetStyleRules","isLTR","rendererId","id","undefined","insertCSSRules","r"],"mappings":";;AAGA;;;;SAGgBA,gBAAgBC;EAC9B,MAAMC,cAAc,GAA4B,EAAhD;EAEA,IAAIC,YAAY,GAAkB,IAAlC;EACA,IAAIC,YAAY,GAAkB,IAAlC;EAEA,IAAIC,QAAQ,GAAoB,IAAhC;;EAEA,SAASC,gBAAT,CAA0BC,OAA1B;IACE,MAAM;MAAEC,GAAF;MAAOC;QAAaF,OAA1B;;IAEA,IAAIJ,YAAY,KAAK,IAArB,EAA2B;MACzB,CAACA,YAAD,EAAeC,YAAf,EAA6BC,QAA7B,IAAyCK,sBAAsB,CAACT,MAAD,CAA/D;;;IAGF,MAAMU,KAAK,GAAGH,GAAG,KAAK,KAAtB;;IAEA,MAAMI,UAAU,GAAGD,KAAK,GAAGF,QAAQ,CAACI,EAAZ,GAAiBJ,QAAQ,CAACI,EAAT,GAAc,GAAvD;;IAEA,IAAIX,cAAc,CAACU,UAAD,CAAd,KAA+BE,SAAnC,EAA8C;MAC5CL,QAAQ,CAACM,cAAT,CAAwB;QAAEC,CAAC,EAAEX;OAA7B;MACAH,cAAc,CAACU,UAAD,CAAd,GAA6B,IAA7B;;;IAGF,OAAOD,KAAK,GAAGR,YAAH,GAAkBC,YAAY,IAAID,YAA9C;;;EAGF,OAAOG,gBAAP;AACD;;;;"}